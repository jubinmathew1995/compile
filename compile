#!/usr/bin/env bash
#
# compile
# https://github.com/jubinmathew1995/compile
#
# Generates output of the executed program file.
#
# Examples:
#
#   $ compile file_name.cpp
#   $ compile file_name.c

# Generates .
#
# $1 - filename which we have to execute.


if [ $# -eq 1 ] # when only single file is send for execution.
then
  if [ ${1: -4} == ".cpp" ] # checking extension for execution
  then
    g++ $1 -o `pwd`/a.out   # generating the object file in the current working directory.
  elif [ ${1: -2} == ".c" ] # checking extension for execution
  then
    gcc $1 -o `pwd`/a.out   # generating the object file in the current working directory.
  else
    echo "Unrecognised file extension."
    exit
  fi

  if [ $? -eq 0 ] # if any error NOT occured then execute the object file.
  then
    `pwd`/a.out # execute the object file.
    rm `pwd`/a.out  # remove the executed object file.
  fi
fi
